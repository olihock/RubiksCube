<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="1.1.1">
  <bpmn:process id="Process_ScanFace" name="Scan Face" isExecutable="true">
    <bpmn:startEvent id="StartEvent_ScanFace" name="Scan Face">
      <bpmn:outgoing>SequenceFlow_0szugef</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:endEvent id="EndEvent_0jt37dk">
      <bpmn:incoming>SequenceFlow_049wbjl</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:callActivity id="CallActivity_ScanFrontBricks" name="Scan Front Bricks" calledElement="Process_ScanAndTurn">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="#{10}" target="moveTurnTableSpeed" />
        <camunda:in sourceExpression="#{-250}" target="moveTurnTableAngle" />
        <camunda:out sourceExpression="${brickColors}" target="brickColorsOuter" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0myw5um</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_1pj3rw3</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="SequenceFlow_0szugef" sourceRef="StartEvent_ScanFace" targetRef="CallActivity_InitialiseCube" />
    <bpmn:callActivity id="CallActivity_InitialiseCube" name="Initialise Cube" calledElement="Process_InitialiseCube">
      <bpmn:incoming>SequenceFlow_0szugef</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0myw5um</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="SequenceFlow_1pj3rw3" sourceRef="CallActivity_ScanFrontBricks" targetRef="ServiceTask_MoveScannerToCenter" />
    <bpmn:sequenceFlow id="SequenceFlow_15kp6f4" sourceRef="ServiceTask_MoveScannerToCenter" targetRef="CallActivity_ScanCenterBrick" />
    <bpmn:serviceTask id="ServiceTask_MoveScannerToCenter" name="Move Scanner To Center" camunda:class="com.videaps.cube.solving.access.motor.RotateMotorDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="rotateMotorMotorPort">C</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorSpeed">${75}</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorAngle">${20}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_1pj3rw3</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_15kp6f4</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:callActivity id="CallActivity_ScanCenterBrick" name="Scan Center Brick" calledElement="Process_ScanMoveScanner">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${brickColorsOuter}" target="brickColors" />
        <camunda:out sourceExpression="${brickColors}" target="brickColorsOuter" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_15kp6f4</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0mdb23e</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:serviceTask id="ServiceTask_MoveScannerToRear" name="Move Scanner To Rear" camunda:class="com.videaps.cube.solving.access.motor.RotateMotorDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="rotateMotorMotorPort">C</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorSpeed">${75}</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorAngle">${10}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_13igwxg</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_19ufmdh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0mdb23e" sourceRef="CallActivity_ScanCenterBrick" targetRef="ParallelGateway_0o1ekzv" />
    <bpmn:sequenceFlow id="SequenceFlow_13igwxg" sourceRef="ParallelGateway_0o1ekzv" targetRef="ServiceTask_MoveScannerToRear" />
    <bpmn:sequenceFlow id="SequenceFlow_12teihy" sourceRef="ParallelGateway_0o1ekzv" targetRef="ServiceTask_0dvkhxb" />
    <bpmn:serviceTask id="ServiceTask_0dvkhxb" name="Move Turn Table To Rear" camunda:class="com.videaps.cube.solving.access.motor.RotateMotorDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="rotateMotorMotorPort">A</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorSpeed">${150}</camunda:inputParameter>
          <camunda:inputParameter name="rotateMotorAngle">${120}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_12teihy</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_125qo7a</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_125qo7a" sourceRef="ServiceTask_0dvkhxb" targetRef="ParallelGateway_12zid6l" />
    <bpmn:sequenceFlow id="SequenceFlow_19ufmdh" sourceRef="ServiceTask_MoveScannerToRear" targetRef="ParallelGateway_12zid6l" />
    <bpmn:parallelGateway id="ParallelGateway_0o1ekzv">
      <bpmn:incoming>SequenceFlow_0mdb23e</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_13igwxg</bpmn:outgoing>
      <bpmn:outgoing>SequenceFlow_12teihy</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:parallelGateway id="ParallelGateway_12zid6l">
      <bpmn:incoming>SequenceFlow_125qo7a</bpmn:incoming>
      <bpmn:incoming>SequenceFlow_19ufmdh</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0g4xwk5</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="SequenceFlow_0g4xwk5" sourceRef="ParallelGateway_12zid6l" targetRef="CallActivity_1tx7awj" />
    <bpmn:sequenceFlow id="SequenceFlow_0myw5um" sourceRef="CallActivity_InitialiseCube" targetRef="CallActivity_ScanFrontBricks" />
    <bpmn:callActivity id="CallActivity_1tx7awj" name="Scan Rear Bricks" calledElement="Process_ScanAndTurn">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${10}" target="moveTurnTableSpeed" />
        <camunda:in sourceExpression="${45}" target="moveTurnTableAngle" />
        <camunda:in sourceExpression="${brickColorsOuter}" target="brickColors" />
        <camunda:out sourceExpression="${brickColors}" target="brickColorsOuter" />
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0g4xwk5</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_0ntv002</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:serviceTask id="ServiceTask_MoveScannerToInitialPosition" name="Move Scanner To Initial Position" camunda:class="com.videaps.cube.solving.access.motor.RotateMotorToLimitDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="port">C</camunda:inputParameter>
          <camunda:inputParameter name="speed">${150}</camunda:inputParameter>
          <camunda:inputParameter name="limitAngle">${45}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_0ntv002</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_06mfari</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="ServiceTask_MoveTurnTableToInitialPosition" name="Move Turn Table To Initial Position" camunda:class="com.videaps.cube.solving.access.motor.RotateMotorToLimitDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="port">A</camunda:inputParameter>
          <camunda:inputParameter name="speed">${100}</camunda:inputParameter>
          <camunda:inputParameter name="limitAngle">${0}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>SequenceFlow_06mfari</bpmn:incoming>
      <bpmn:outgoing>SequenceFlow_049wbjl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="SequenceFlow_0ntv002" sourceRef="CallActivity_1tx7awj" targetRef="ServiceTask_MoveScannerToInitialPosition" />
    <bpmn:sequenceFlow id="SequenceFlow_06mfari" sourceRef="ServiceTask_MoveScannerToInitialPosition" targetRef="ServiceTask_MoveTurnTableToInitialPosition" />
    <bpmn:sequenceFlow id="SequenceFlow_049wbjl" sourceRef="ServiceTask_MoveTurnTableToInitialPosition" targetRef="EndEvent_0jt37dk" />
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Process_ScanFace">
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_ScanFace">
        <dc:Bounds x="300" y="104" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="273" y="140" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="EndEvent_0jt37dk_di" bpmnElement="EndEvent_0jt37dk">
        <dc:Bounds x="1463" y="542" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1436" y="578" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="CallActivity_1vehdoj_di" bpmnElement="CallActivity_ScanFrontBricks">
        <dc:Bounds x="268" y="440" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0szugef_di" bpmnElement="SequenceFlow_0szugef">
        <di:waypoint xsi:type="dc:Point" x="318" y="140" />
        <di:waypoint xsi:type="dc:Point" x="318" y="258" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="288" y="189" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_0agmf7x_di" bpmnElement="CallActivity_InitialiseCube">
        <dc:Bounds x="268" y="258" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_1pj3rw3_di" bpmnElement="SequenceFlow_1pj3rw3">
        <di:waypoint xsi:type="dc:Point" x="368" y="480" />
        <di:waypoint xsi:type="dc:Point" x="520" y="480" />
        <di:waypoint xsi:type="dc:Point" x="520" y="338" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="399" y="455" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_15kp6f4_di" bpmnElement="SequenceFlow_15kp6f4">
        <di:waypoint xsi:type="dc:Point" x="570" y="298" />
        <di:waypoint xsi:type="dc:Point" x="615" y="298" />
        <di:waypoint xsi:type="dc:Point" x="615" y="298" />
        <di:waypoint xsi:type="dc:Point" x="658" y="298" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="585" y="215" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_1w207n0_di" bpmnElement="ServiceTask_MoveScannerToCenter">
        <dc:Bounds x="470" y="258" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="CallActivity_0wudcmv_di" bpmnElement="CallActivity_ScanCenterBrick">
        <dc:Bounds x="658" y="258" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_0vryvdp_di" bpmnElement="ServiceTask_MoveScannerToRear">
        <dc:Bounds x="947" y="176" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0mdb23e_di" bpmnElement="SequenceFlow_0mdb23e">
        <di:waypoint xsi:type="dc:Point" x="758" y="298" />
        <di:waypoint xsi:type="dc:Point" x="831" y="298" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="749.5" y="214" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_13igwxg_di" bpmnElement="SequenceFlow_13igwxg">
        <di:waypoint xsi:type="dc:Point" x="856" y="273" />
        <di:waypoint xsi:type="dc:Point" x="856" y="216" />
        <di:waypoint xsi:type="dc:Point" x="947" y="216" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="826" y="234.5" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_12teihy_di" bpmnElement="SequenceFlow_12teihy">
        <di:waypoint xsi:type="dc:Point" x="856" y="323" />
        <di:waypoint xsi:type="dc:Point" x="856" y="367" />
        <di:waypoint xsi:type="dc:Point" x="947" y="367" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="826" y="335" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ServiceTask_0dvkhxb_di" bpmnElement="ServiceTask_0dvkhxb">
        <dc:Bounds x="947" y="327" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_125qo7a_di" bpmnElement="SequenceFlow_125qo7a">
        <di:waypoint xsi:type="dc:Point" x="1047" y="367" />
        <di:waypoint xsi:type="dc:Point" x="1109" y="367" />
        <di:waypoint xsi:type="dc:Point" x="1109" y="323" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1033" y="342" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_19ufmdh_di" bpmnElement="SequenceFlow_19ufmdh">
        <di:waypoint xsi:type="dc:Point" x="1047" y="216" />
        <di:waypoint xsi:type="dc:Point" x="1109" y="216" />
        <di:waypoint xsi:type="dc:Point" x="1109" y="273" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1033" y="191" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="ParallelGateway_0o1ekzv_di" bpmnElement="ParallelGateway_0o1ekzv">
        <dc:Bounds x="831" y="273" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="811" y="323" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ParallelGateway_12zid6l_di" bpmnElement="ParallelGateway_12zid6l">
        <dc:Bounds x="1084" y="273" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1064" y="323" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0g4xwk5_di" bpmnElement="SequenceFlow_0g4xwk5">
        <di:waypoint xsi:type="dc:Point" x="1134" y="298" />
        <di:waypoint xsi:type="dc:Point" x="1216" y="298" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1079" y="202.5" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_0myw5um_di" bpmnElement="SequenceFlow_0myw5um">
        <di:waypoint xsi:type="dc:Point" x="318" y="338" />
        <di:waypoint xsi:type="dc:Point" x="318" y="440" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="288" y="379" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="CallActivity_1tx7awj_di" bpmnElement="CallActivity_1tx7awj">
        <dc:Bounds x="1216" y="258" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1o6avo8_di" bpmnElement="ServiceTask_MoveScannerToInitialPosition">
        <dc:Bounds x="1431" y="176" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="ServiceTask_1gzytsx_di" bpmnElement="ServiceTask_MoveTurnTableToInitialPosition">
        <dc:Bounds x="1431" y="335" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="SequenceFlow_0ntv002_di" bpmnElement="SequenceFlow_0ntv002">
        <di:waypoint xsi:type="dc:Point" x="1316" y="298" />
        <di:waypoint xsi:type="dc:Point" x="1374" y="298" />
        <di:waypoint xsi:type="dc:Point" x="1374" y="216" />
        <di:waypoint xsi:type="dc:Point" x="1431" y="216" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1344" y="247" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_06mfari_di" bpmnElement="SequenceFlow_06mfari">
        <di:waypoint xsi:type="dc:Point" x="1481" y="256" />
        <di:waypoint xsi:type="dc:Point" x="1481" y="335" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1451" y="285.5" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="SequenceFlow_049wbjl_di" bpmnElement="SequenceFlow_049wbjl">
        <di:waypoint xsi:type="dc:Point" x="1481" y="415" />
        <di:waypoint xsi:type="dc:Point" x="1481" y="542" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1631" y="326.5" width="90" height="20" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
